<launch>
    <arg name="wheel_diameter" default="0.165"/>
    <arg name="wheel_separation" default="0.385"/>
    <arg name="publish_frequency" default="10"/>
    <arg name="publish_tranform" default="false"/>

    <!-- load robot description -->
    <include file="$(find sr_description)/launch/srbot_empty_world.launch"/>

    <!-- kinematic launch file -->
    <include file="$(find sr_kinematic)/launch/sr_kinematic.launch">
      <arg name="wheel_diameter" value="$(arg wheel_diameter)"/>
      <arg name="wheel_separation" value="$(arg wheel_separation)"/>
      <arg name="publish_frequency" value="$(arg publish_frequency)"/>
      <arg name="publish_tranform" value="$(arg publish_tranform)"/>
    </include>

    <!-- setup sensor fusion by robot_localization node use EKF -->
    <node pkg="robot_localization" type="ekf_localization_node" name="ekf_localization" clear_params="true">
        <rosparam command="load" file="$(find sr_bringup)/config/ekf.yaml"/>
        <remap from="odometry/filtered" to="odom"/>
    </node>

    <include file="$(find sr_navigation)/launch/navigation.launch"/>

</launch>
