<launch>
    <arg name="use_mbf" default="false"/>
    <arg name="local_planner" default="teb" doc="Local planner can be either dwa, dwb, base, teb or pose"/>

    <!-- Load map_server -->
    <arg name="map_file" default="$(find sr_navigation)/maps/library_8_th.yaml"/>
    <node pkg="map_server" type="map_server" name="map_server" args="$(arg map_file)" output="screen"/>

    <!-- Load amcl -->
    <include file="$(find sr_navigation)/launch/amcl.launch"/>

    <!-- Load move_base -->
    <include unless="$(arg use_mbf)" file="$(find sr_navigation)/launch/move_base.launch">
        <arg name="local_planner" value="$(arg local_planner)"/>
    </include>

    <!-- Load move_base_flex -->
    <include if="$(arg use_mbf)" file="$(find sr_navigation)/launch/move_base_flex.launch">
        <arg name="local_planner" value="$(arg local_planner)"/>
    </include>
</launch>