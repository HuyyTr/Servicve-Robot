<launch>
    <arg name="local_planner" default="teb" doc="Local planner can be either dwa, dwb, base, teb or pose"/>

    <node name="move_base_flex" pkg="mbf_costmap_nav" type="mbf_costmap_nav" required="true" output="screen">
        <!-- Load global costmap config -->
        <rosparam file="$(find sr_navigation)/config/costmap_common_params.yaml" command="load" ns="global_costmap" />
        <rosparam file="$(find sr_navigation)/config/costmap_global_params.yaml" command="load" />

        <!-- Load local costmap config -->
        <rosparam file="$(find sr_navigation)/config/costmap_common_params.yaml" command="load" ns="local_costmap" />
        <rosparam file="$(find sr_navigation)/config/costmap_local_params.yaml" command="load" />

        <rosparam file="$(find sr_navigation)/config/move_base_flex/move_base_flex_params.yaml" command="load"/>
        <rosparam file="$(find sr_navigation)/config/local_planner/$(arg local_planner)_local_planner_params.yaml" command="load" />
    </node>

    <node name="move_base_legacy_relay" pkg="mbf_costmap_nav" type="move_base_legacy_relay.py">
        <rosparam file="$(find sr_navigation)/config/move_base_flex/default_planner.yaml" command="load"/>
      </node>
</launch>